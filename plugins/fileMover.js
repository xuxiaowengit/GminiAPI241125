const fs=require("fs"),path=require("path");function moveFiles(e,s){return new Promise(((r,n)=>{fs.existsSync(s)||fs.mkdirSync(s,{recursive:!0}),fs.readdir(e,((t,i)=>{if(t)return n(`读取目录失败: ${t.message}`);let a=i.map((r=>new Promise(((n,t)=>{const i=path.join(e,r),a=path.join(s,r);fs.rename(i,a,(e=>{if(e)return t(`移动文件失败 (${r}): ${e.message}`);n(),console.log(`成功移动上次运行文件到“lastRunDataBackup”目录下 (${r})`)}))}))));Promise.all(a).then((()=>r())).catch(n)}))}))}module.exports=moveFiles;