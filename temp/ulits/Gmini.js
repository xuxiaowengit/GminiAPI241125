const propertyChecker=require("./plugins/inTypeOf"),axios=require("axios");var Number=0;async function generateContent(e){var r={method:"post",url:"https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key="+(r=["AIzaSyCBCJqcFJPWfVnxmwv2kiDX1Mb7hLLYYew","AIzaSyDiyqOVlm4ticaSmMwpuR1UteI43ytXvCY","AIzaSyDSCyLfYGCyI2uqlGTt6CwOoGQF0EpcNn0","AIzaSyC8INbh50rAr5ZJQ1L22iA0pQs-QhHxSOI","AIzaSyBS6tmfrFeLomXZPlBs7cczYEjzVFsHZVw","AIzaSyBmx7fmSC8qU5kKQNsPbOhBn_94j4kyo6k","AIzaSyBt2fCaVg7eZ6SYf1Rq422MKSENfZNy2go","AIzaSyDSPDWVm8CYm83DJfZi8bH7efb2XBluEOU","AIzaSyC8afxCESfdgXGzmnEhyBnCSwcIGt5OkCg","AIzaSyB4qZJnusenRsaTKMF-r3hg_MX9U2UKxPI","AIzaSyCLXD-5x5yEep-W93d93qXyAsA0gb5BPwQ","AIzaSyDNRjXJzwlbeRKoAAcUz2srGDCU8L7RvJ8","AIzaSyBeiyyjkhrntT7zKUfjNPLv1iSbh4mmUNE","AIzaSyCmkGQmD-eUO7JjRbCAA7T83nVAYrISeco","AIzaSyD86BbKiblVGeEXTj0zcJJJGrVi5trlerc","AIzaSyA6ZnLjnvXBipaM6PxC9F4i069iQBoiiD4","AIzaSyDTLZQPW7lD7rb5rgweqOwI65kkezcmN9Y","AIzaSyA1S80z6-kUUM7ZJ5DVLUp4WzM2cE8b09E","AIzaSyBITVzZ9nVjlBPwhoRYwdkmXxIvPezpHns","AIzaSyAmMwpF0rJJRKZN05i-AC9PJrxCMnCfMI4"])[Number=Number<r.length?Number:0],headers:{"Content-Type":"application/json"},data:{generationConfig:{temperature:1,topP:.95,topK:64,maxOutputTokens:8192,responseMimeType:"text/plain"},contents:[{parts:[{text:e}]}]},timeout:8e3};try{console.log(r.url,"key",Number+1),Number++;var t,a,o=await axios.request(r);return propertyChecker.hasAnyRequiredProperties(o,["data","candidates","content","text"])?((t=o.data.candidates[0].content).apiError="normal!",t.reqStatus="success",t):((a=o).apiError="接口请求未成功！请检查地址或网络!",console.log("result2:",a.status),a.reqStatus="error",a)}catch(r){return e={},r.response?(console.error("ErrorResponse:",r.response),e.reqStatus="ErrorResponse"):r.request?e.reqStatus="ErrorRequest":e.reqStatus="ErrorMessage",console.log("requestStatus:",e),e}}module.exports=generateContent;